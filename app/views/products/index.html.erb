<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Products</h2>
    <a class="btn btn-success" href="/products/new">Add Product</a>
  </div>

  <% if @products && @products.any? %>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Category</th>
          <th>Brand</th>
          <th>Year</th>
          <th>Price</th>
          <th>Created At</th>
        </tr>
      </thead>
      <tbody>
        <% @products.each do |p| %>
          <tr>
            <td><%= p.id %></td>
            <td><%= p.name %></td>
            <td><%= p.category&.name %></td>
            <td><%= p.brand %></td>
            <td><%= p.year %></td>
            <td><%= p.price %></td>
            <td><%= p.created_at %></td>
          </tr>
        <% end %>
      </tbody>
    </table>

    <nav class="d-flex justify-content-center mt-3" aria-label="Pages">
      <%= pagy_bootstrap_nav(@pagy) if @pagy&.pages.to_i > 1 %>
    </nav>
    
  <% else %>
    <div class="alert alert-warning text-center py-4">
      <h4 class="mb-0">No products yet!</h4>
    </div>
  <% end %>
</div>